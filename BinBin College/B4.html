<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<style>
			.show{
				background-color: red;
				margin: 10px;
				padding: 10px;
			}
		</style>
	</head>
	<body>
		<div>
			<div>
				<input type="text" id="input">
			</div>
			<div>
				<button type="button" id="leftin">左侧入</button>
				<button type="button" id="leftout">左侧出</button>
				<button type="button" id="rightin">右侧入</button>
				<button type="button" id="rightout">右侧出</button>
			</div>
			<p id="show"></p>
		</div>
		<script type="text/javascript">			
			function leftin(){
				var input = document.getElementById('input').value;
				var text = document.createTextNode(input);
				var span = document.createElement('span');
				span.appendChild(text);
				span.setAttribute('class', 'show');
				var show = document.getElementById('show');
				span.addEventListener('click', function(){
					show.removeChild(this);
				});
				if(show.firstChild != null){
					show.insertBefore(span, show.firstChild);
				}else{
					show.appendChild(span);
				}
			}
			function leftout(){
				var show = document.getElementById('show');
				alert(show.firstChild.innerHTML);
				show.removeChild(show.firstChild);
			}
			function rightin(){
				var input = document.getElementById('input').value;
				var text = document.createTextNode(input);
				var span = document.createElement('span');
				span.appendChild(text);
				span.setAttribute('class', 'show');
				var show = document.getElementById('show');
				span.addEventListener('click', function(){
					show.removeChild(this);
				});
				show.appendChild(span);
			}
			function rightout(){
				var show = document.getElementById('show');
				alert(show.lastChild.innerHTML);
				show.removeChild(show.lastChild);
			}
			function init(){
				document.addEventListener('click', function(e){
					var target = e.target;
					switch(target.id){
						case 'leftin':
						    leftin();
						    break;
						case 'leftout':
						    leftout();
						    break;
						case 'rightin':
						    rightin();
						    break;
						case 'rightout':
						    rightout();
						    break;
					}
				});
			}
			init();
		</script>
	</body>
</html>